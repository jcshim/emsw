# π§© μ „μ²΄ κ·Έλ¦Ό(ν•µμ‹¬)

1. **μ•„λ‘μ΄λ…Έ β†’ PC**
   μ•„λ‘μ΄λ…Έκ°€ μ„Όμ„κ°’(μ: μ¨λ„, κ±°λ¦¬)μ„ UART μ‹λ¦¬μ–Όλ΅ PCμ— λ³΄λƒ„.

2. **PC β†’ μ¤λ§νΈν°**
   PCκ°€ ν•λ‚μ **μ„λ²„(Server)** κ°€ λμ–΄ μ¤λ§νΈν° μ”μ²­μ„ λ°›μ
   μ¤λ§νΈν°μ΄ PCμ— μ ‘μ†ν•λ©΄
   π‘‰ PCλ” μ•„λ‘μ΄λ…Έμ—μ„ λ°›μ€ μµμ‹  μ„Όμ„κ°’μ„ μ¤λ§νΈν°μ—κ² λΏλ ¤ μ¤.

---

# π§± μ½”λ“ μ—­ν•  3μ¤„ μ”μ•½

| λ¶€λ¶„           | μ—­ν•                      |
| ------------ | ---------------------- |
| **Serial p** | μ•„λ‘μ΄λ…Έμ™€ μ—°κ²°ν•λ” μ‹λ¦¬μ–Ό(USB) ν†µλ΅ |
| **Server s** | μ¤λ§νΈν°μ—μ„ μ ‘μ†ν•  μ μλ” PCμ μ„λ²„ |
| **Client c** | μ¤λ§νΈν° ν• λ…(= ν΄λΌμ΄μ–ΈνΈ)      |

---

# β¨ μ½”λ“ νλ¦„μ„ β€μΌμƒμ— λΉ„μ β€ν•λ©΄?

* **μ•„λ‘μ΄λ…Έ β†’ PC:**
  μ•„λ‘μ΄λ…Έκ°€ PCν•ν… "μƒ λ©”μ‹μ§€κ°€ μμ–΄μ”!" ν•κ³  λ©”λ¨μ§€λ¥Ό μ¤.

* **PC μ„λ²„ β†’ μ¤λ§νΈν°:**
  μ¤λ§νΈν°μ΄ PC λ¬Έμ„ λ‘λ“λ¦¬λ©΄
  PCλ” "μ–΄μ„μ¤μ„Έμ”! μ—¬κΈ° μ•„λ‘μ΄λ…Έκ°€ μ¤€ μµμ‹  λ©”μ‹μ§€μ…λ‹λ‹¤!" ν•κ³  μ „λ‹¬.

---

# π” μ½”λ“ μ‰½κ² μ΄ν•΄ν•κΈ°

```java
import processing.serial.*;  // μ‹λ¦¬μ–Ό ν†µμ‹  μ‚¬μ©
import processing.net.*;     // λ„¤νΈμ›ν¬(μ„λ²„) μ‚¬μ©

Serial p;       // μ•„λ‘μ΄λ…Έ μ—°κ²°
Server s;       // μ¤λ§νΈν°μ—μ„ μ ‘μ†ν•  μ μλ” μ„λ²„
Client c;       // μ ‘μ†ν• μ¤λ§νΈν° 1λ…

void setup(){
  p = new Serial(this, "COM6", 9600); // μ•„λ‘μ΄λ…Έ USB μ‹λ¦¬μ–Ό OPEN
  s = new Server(this, 12345);        // PCμ—μ„ 12345λ² ν¬νΈλ΅ μ„λ²„ OPEN
}
```

### β” μ„¤λ…

* `"COM6"`μ— μ—°κ²°λ μ•„λ‘μ΄λ…Έ λ°μ΄ν„°λ¥Ό μ½μ„ μ¤€λΉ„
* μ¤λ§νΈν°μ΄ **PC IP:12345**λ΅ μ ‘μ†ν•λ„λ΅ μ„λ²„ μ—΄κΈ°

---

```java
String msg;

void draw(){
  // 1. μ•„λ‘μ΄λ…Έμ—μ„ μ¨ λ°μ΄ν„° μ½κΈ°
  if(p.available()>0){
    msg = p.readStringUntil('\n');  // μ¤„ λκΉμ§€ μ½κΈ°
    if(msg != null){
      msg = msg.trim();            // μ—”ν„°/κ³µλ°± μ κ±°
    }
  }
```

### β” μ„¤λ…

* μ•„λ‘μ΄λ…Έκ°€ `"23.5\n"` κ°™μ€ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄
  β†’ `msg = "23.5"` λ΅ μ €μ¥λ¨
  β†’ **μ¤λ§νΈν°μ—κ² λ³΄λ‚Ό μµμ‹  λ°μ΄ν„°κ°€ λ¨**

---

```java
  c = s.available();  // μ¤λ§νΈν°μ΄ μ ‘μ†ν•λ©΄ κ°μ²΄κ°€ μƒκΉ€

  if(c!=null){
    // 2. μ¤λ§νΈν°μ΄ λ³΄λ‚Έ λ°μ΄ν„° μ½κΈ°
    String g = c.readString();
    print(g);

    // 3. μ¤λ§νΈν°μΌλ΅ λ³΄λ‚΄μ¤„ λ°μ΄ν„°
    c.write("HTTP/1.1 200 OK\r\n\r\n"); // μ›Ή λΈλΌμ°μ €κ°€ μ΄ν•΄ν•λ” ν•μ‹
    c.write(msg);   // μ•„λ‘μ΄λ…Έμ—μ„ μ¨ μµμ‹  μ„Όμ„κ°’ λ³΄λ‚΄κΈ°

    c.stop();       // μ—°κ²° μΆ…λ£
  }
}
```

### β” μ„¤λ…

* μ¤λ§νΈν°μ΄ μ ‘μ†ν•λ©΄ `c != null`
* μ¤λ§νΈν°μ΄ λ³΄λ‚Έ λ¬Έμ μ½κ³ (print)
* **μ•„λ‘μ΄λ…Έ λ°μ΄ν„°(msg)** λ¥Ό μ¤λ§νΈν°μ—κ² μ „μ†΅
* ν• λ² μ‘λ‹µν•λ©΄ μ—°κ²°μ„ λ‹«μ (κ°„λ‹¨ν• μ›Ήμ„λ²„ λ°©μ‹)

---

# π“± μ¤λ§νΈν°μ—μ„ μ–΄λ–»κ² μ ‘μ†ν• κΉ?

μ¤λ§νΈν° λΈλΌμ°μ € μ£Όμ†μ— μ΄λ ‡κ² μ…λ ¥:

π‘‰ **http://(PCμ IPμ£Όμ†):12345**

μ)

```
http://192.168.0.12:12345
```

κ·Έλ¬λ©΄ λΈλΌμ°μ €μ— μ•„λ‘μ΄λ…Έ μ„Όμ„ κ°’μ΄ λΈ!

---

# π§ μ „μ²΄ λ™μ‘ μ”μ•½

1. μ•„λ‘μ΄λ…Έ β†’ USB β†’ PC
   μ„Όμ„κ°’ κ³„μ† μ „μ†΅
   β†’ PCλ” μµμ‹  msg λ³΄κ΄€

2. μ¤λ§νΈν° β†’ PC μ„λ²„ μ ‘μ†
   β†’ PCλ” μ¤λ§νΈν°μ—κ² msg μ „λ‹¬

π‘‰ μ¦‰, **μ•„λ‘μ΄λ…Έ μ •λ³΄λ¥Ό μ¤λ§νΈν°μ—μ„ μ‹¤μ‹κ°„ ν™•μΈ!**
